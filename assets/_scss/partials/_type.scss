//###################### SIZES ########################//

/*
Modular scale @ golden mean
http://modularscale.com/scale/?px1=16&px2=13&ra1=1.618&ra2=0
41.887
34.033	
25.888	
21.034	
16.000	
13.000	 // magic number
9.889
*/


// ###################### DECLARATIONS  ################### //
// everything is proportional to this html font size

html {
      font-size:$doc-font-size*0.8125 +px; 
        @media screen and (min-width:$med-breakpoint){
        font-size:$doc-font-size*0.9 +px; 
    }
    
        @media  screen and (min-width:$big-breakpoint) {
        font-size:$doc-font-size+px;
    }
}

h1 {
    @include font-full(41.887, $header-text); 
}

    // pre-header for when we need small text prior to the main header. Attached to an <em>.
/* em */   .pre-header {
       @include font-size(16); 
       font-style:normal;
       clear:both;
       color:$copy-colour;
       display:block;
       margin-bottom:0;
    }



h2 { 
// was 34 normal
    @include font-full(21.034, $header-text);
    font-weight:600;
  //  padding-top:1rem;
    //color:$header-colour;
}

    
// #### CUSTOM HEADER for when we have a subhead #### //
// we dont use subhead and pre-head together, we should be able to say what we need without using both
.post--head__primary, .post__index--header__primary {
    //  margin-bottom:0.25em;
    margin-bottom:0em;
}
 /* p */   .post--head__subhead {
                @include font-full(21.034, $header-text);
            }

 /* p */   .post__index--header__subhead {
                    @include font-size(13);        
            }
    
        


h3, caption {
    @include font-full(16, $header-text);
     font-weight:600;
      //  padding-top:1rem;
     //color:$header-colour;    
}

h4 {
    @include font-full(16, $header-text);
    //color:$header-colour;
      //  padding-top:1rem;
}

p, ul {
    @include font-full(16, $content-text);
    color:$copy-colour;
    
        @media screen and (max-width:$sml-breakpoint) {
            line-height:1.35;  // tighten up  a little to fit more content on the smaller screen 
        }
}


code {
    background-color:$divider-colour;      
        strong {
             color:$accent;   
        }
    
    &.block {
     display:block;
     margin:$gutter 0;
    
    }

    &.inline {
        display:inline;  
        border:none;
        margin:0;
    }
}

/*###################################################
               SPECIAL CHARS
################################################### */

.ampersand {
        font-weight:normal;
}

/*###################################################
                       LINKS
################################################### */
main a {

    color:$link-colour;
    @extend %default-transition;
    &:hover, :active, :focus {
        color:lighten($link-colour,20%); 
    }
}

    .read-more {
       //float:left;
        display:inline-block;
        clear:both;
        @include font-full(13, $content-text, $bottom-margin:false);
        padding:$gutter/8 $gutter/2; // just keeping a sense of proportion
        color:#fff;
        background-color:$accent;
        border:1px solid $divider-colour;
        border-radius:$radius;
        //border-bottom:2px solid darken($accent, 5%);
        
            &:hover, :active, :focus {
            border-color:darken($divider-colour,3%);
            background-color:$divider-colour;
            color:#333;
        }
    }

/*###################################################
                      HEADER
################################################### */

nav  {
     @include font-full(16, $navigation-text, $bottom-margin:false); //21.034
}


.logo {
        @include font-full(34.033, $header-text, 0.75, $bottom-margin:false); //412 looks good with this font
        @extend %default-transition;
        font-family:Monoton;
        color:#fff;
        text-align:center;
        display:inline-block;
    
            &:hover { // sorry about this (not sorry)
                @extend %text-gradient-animate;
            }
        }

            .fixed-header {
               .logo {
                    font-size:175%; 
                    @extend %default-transition;
                    }
                   .site-description {
                          display:none;
                     }   
                }


/*###################################################
                QUOTES AND CALLOUTS 
################################################### */

/* blockquote */ .callout__quote {
    p {
        @include font-full(25.888, $callout-text, $bottom-margin:false, $line-height-modifier:1.25);
        color:#333;
        padding:$gutter/2 $gutter;
             &::before {
                content:'\201C';   
                font:4rem/1 georgia, "times new roman", serif;
                float:left;
                display:inline-block;
                margin-left:-$gutter*1.5;
                 margin-top:-0.1em;
            }
            &::after {
                content:'\201D';   
                font-family:georgia, "times new roman", serif;
                font-size:4rem;
                float:right;
                display:inline-block;
                margin-right:-$gutter*1.5;
                margin-top:-0.15em;
            }
        }
    }

                .intro__quote {
                           margin:$gutter (-$gutter);
                }



    cite {
        @include font-full(13, $content-text);
        font-weight:600;
        text-align:right;   
        display:block;
        //border-top:1px solid $divider-colour;
        
        &::before {
                content:"\2014 \00A0"; /* mdash nbsp */
                color:#999;
        }
    }

/*
            &::first-letter {
                font:260% / 0.85 georgia, serif;
                float:left;
                padding:0 3px; // offset the indent
                position: relative;
                left: 0px;
                bottom:-4px;
                color:#666;
            } 
*/

.callout {
     p {
         @include font-full(11, $callout-text, $line-height-modifier:0.6);
         font-weight:600;
         margin-bottom:0.5em;
     }
    
    code {
        font-size:13px;
 
    }
}

/* h3 */ .callout--header__note {
        margin:(-$gutter/2) (-$gutter/2)-2px 0.5em (-$gutter/2)-2px;
        @include font-size(13);
        outline:2px solid #fff;
        background-color: darken($divider-colour, 5%);
        background-color: lighten($base-colour, 15%);
        color:#fff;
        //font-style:italic;
        padding:$gutter/4;
}
/*###################################################
                       BLOG
################################################### */



.site-description {
       color:$accent;
       text-shadow: 0px 0px 2px rgba(0, 0, 0, 0.4);
 }



.post--meta {
    @include font-full(13, $small-text); // set this here so we can inherit the bottom margin from the calculation
    border-top:1px solid $divider-colour;
    border-bottom:1px solid $divider-colour;
    padding:1px 6px;
    position:relative; // use position:absolute on child elements
    } 
    .post--meta--date {
        color:$accent;
            @media screen and (min-width:$big-breakpoint){
                  padding:1px $column/2;  
            } 
        

        }

        .post--meta--author {
            position:absolute;
            font-size:80%;
            right:0;
            margin:0;
            bottom:6px; // The shame of a magic number
            color:$base-colour;
            em {
                margin-right:3px;
                opacity: 0.6;
                font-style:normal;
                }
             @media screen and (min-width:$big-breakpoint){
                margin-right:$column/2;   
             }
        }

 sup { // date suffix
    vertical-align:super; // overriding from partials/reset.scss  
    font-size:80%;
    letter-spacing:1px;
 }



/*###################################################
                       BLOG INDEX
################################################### */

.posts-list {

    .pre-header {
        @include font-size(13);
        margin-bottom:0.5em;
        font-weight:300;
    }
    
    li {
        border-top:1px solid $divider-colour;
        padding:$gutter 0;
        float:left; // contain floated children
        width:100%;
        position:relative;
        
    }
}

/* p */ .post--snippet {
 
}


.post__index--meta--date {
// by setting the line height and margin to zero, we remove this from the flow of the vertical rhythm, which as its so visually 'light' and of secondary importance in this context is what we want. i.e. the relationship between the header and the paragrpha remains natural between those 2 elements. This just happens to be in the middle.
     @include font-full(13, $content-text, $line-height-modifier:0, $bottom-margin:false);
     display:block;
     color:#bbb;
     position: relative; // nudge it in to position by eye
     top:-12px;
     top:-0.75rem;
     left:0;
    

}
    




 

