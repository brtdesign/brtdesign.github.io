// ################################################ //
//                  PAGE GRID BASICS  
// Deals with all aspects of position, not strictly just the grid.
// ################################################ //

body {
    //padding:0 $gutter/2 $gutter/2;

}


main, .wrapper {
    display:block;
    clear:both; // FF needs this to be explicit on the <main>
    margin:auto;
    width:100%;
    max-width:$full-width;
    overflow:hidden; // clearfix
}

header, footer {
    width:100%; 
    text-align:center;
    margin-bottom:1.618rem;
    float:left; // contain floated children


} 
    footer {
         margin-bottom:0; 
         margin-top:1.618rem;
         padding:1.618rem;
    }

    .wrapper {
        position:relative;   
            outline:1px solid #f00;
    }
        .logo, .site-description, nav { 
            display:block;
            margin:0; // over write for the header   
        }
        
        .site-branding { // the a that wraps the logo tag line etc
                @include create-percentage($ratio-lower,  no-block);
                float:left;
        }

        nav {
                @include create-percentage($ratio-upper, no-block);
                //float:right;
                position:absolute;
                bottom:0;
                right:0;
                ol {
                    @include flexbox();
                    >li { 
                     flex:auto; 
                     align-items:center; // vertical center to parent
                     text-align:center; // horizontal align 
                    }
                }
            }


// .fixed-header Gets to body added via Javascript on scroll
  .fixed-header {
           padding-top:114px; // enable 
            header {
                position:fixed;
                top:0;
                z-index:99;
          }
    }


// the main content area
.content__primary {
    @include create-percentage($ratio-upper);
    float:left;
}
    // single column 'reading view'. Markup defined in _includes/default.html
    .content-primary__single-column {
           // will inherit width from .content__primary
            float:none;
            margin:auto;
        
            @media screen and (min-width:$med-breakpoint) and (max-width:$big-breakpoint){
                margin:auto $column/2;
                width:auto;
            }
    }

// the sidebar area
.content__supplemental {
    @include create-percentage($ratio-lower);
    float:right;
}




/*######################################################*/
/*           HEADER ELEMENT MEDIA QUERY TWEAKS          */
/*######################################################*/



@media screen and(max-width:$sml-breakpoint){
        .site-branding, nav {
            float:none; // prevent the transition
            display:block;
            position:relative;
            width:100%;
            max-width:100%;
            transform:none;
        }

    .fixed-header .logo {
        display:none;
    }
 }


.callout {

    padding:$gutter/2;
    border-bottom:1px solid $divider-colour;
    margin-bottom:1.618em;
    
         @media screen and (min-width:$sml-breakpoint) {
             margin-left:$gutter;
             margin-right:$gutter;   
         }
    
        @media screen and (min-width:$med-breakpoint) {
        margin-right:-$column/2;
       @include create-percentage($ratio-lower);
         float:right;
    }
    
        @media screen and (min-width:$big-breakpoint) {

                   margin-right:-$column;
        }
    
    
    code {
         margin:0 $gutter/2;   
    }
    

}



/*##########################################################
                
            OFFSET POST HEADERS FOR SINGLE COLUMN

##########################################################*/

 @media screen and (min-width:$med-breakpoint){
     
 .posts-list {
        margin-left:-$column/2; // make the list fill the width so we get a decent border. Feels a bit of a hack
        margin-right:-$column/2;
        padding-left:$column/2;
        padding-right:$column/2;
           h2, .post__index--header__subhead { 
             margin-left:-$column/4;  
            }  
     }
     
       h1,  .post--head__subhead, .post--meta {
          margin-left:-$column/4;
          margin-right:-$column/4;  
        } 
          .post--meta--date, .post--meta--author {
                padding-left: $column/4; // there is a conflict somewhere with margins and padding - this is a quick fix to just make it work.
                padding-right: $column/4;
            }
        }

// not much room to back up into at this size

 @media screen and (min-width:$big-breakpoint){
     .posts-list {
        margin-left:-$column; // make the list fill the width so we get a decent border. Feels a bit of a hack, but works flawlessly.
        margin-right:-$column;
        padding-left:$column;
        padding-right:$column;
           h2,  .post__index--header__subhead  { // indent the h2 when its in the blog index page 
                 margin-left:-$column/2;  
            }  
     }
        h1,  .post--head__subhead, .post--meta {
          margin-left:-$column;
          margin-right:-$column;  
        } 
     
    }







