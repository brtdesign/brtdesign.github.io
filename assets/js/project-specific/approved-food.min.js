function fixPosition(){console.log($(window).scrollTop()),$(window).scrollTop()>=headerHeight?$("body").addClass("js-fix-positions"):$("body").removeClass("js-fix-positions")}function createBasketWeightGuide(){$(".af__basket__weight-guide--label").after('<div class="js-af__weight-guide__wrapper"></div>'),$(".js-af__weight-guide__wrapper").append('<div class="js-af__weight-guide__meter"></div>'),$(".af__product__add-to-basket").submit(function(e){e.preventDefault(),weightGuideListener()})}function weightGuideListener(){var e=$(".js-af__weight-guide__meter"),t=100*parseFloat(e.css("width"))/parseFloat(e.parent().css("width"))+10+"%";e.css("width",t);var i=$(".af__basket__weight-guide--cta");currentWidth=parseInt(t),console.log(currentWidth),currentWidth<=21?i.text("Plenty of room"):currentWidth<=45?e.css("background-color","#ee0"):currentWidth<=65?(e.css("background-color","#c1ea39"),i.text("Getting there...")):currentWidth<=80?i.text("Room for a little one?"):currentWidth<=89?i.text("Almost full!"):currentWidth>=95&&currentWidth<=99?i.text("Lookin' good!"):currentWidth<=99.9?e.css("background-color","#3ece38"):(e.css("background-color","#d00"),e.css("width","100%"),i.text("(Delivery band 2 logic)"))}function selectOnFocus(){$(".af__product__add-to-basket input").focus(function(){this.select()})}$(document).ready(function(){headerHeight=$(".af__header").outerHeight(),scrollIntervalID=setInterval(fixPosition,16),createBasketWeightGuide(),selectOnFocus()});